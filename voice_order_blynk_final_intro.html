
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á</title>
  <style>
    body {
      font-family: "Prompt", sans-serif;
      background-color: #eef2f7;
      text-align: center;
      padding: 2rem;
      color: #222;
    }
    h1 {
      font-size: 1.8rem;
      color: #003366;
    }
    #status {
      margin-top: 1.5rem;
      font-size: 1.2rem;
      background: #fff3cd;
      padding: 1rem;
      border-radius: 10px;
      display: inline-block;
      border: 1px solid #ffeeba;
    }
  </style>
</head>
<body>
  <h1>üçΩÔ∏è ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h1>
  <p id="status">üîä ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>

  <script>
    const token = "vd6V8MwWDonxjkjZD-XXx3fKqsidTaDv";
    const blynkURL = "https://blynk.cloud/external/api/update";
    const menuMap = {
      "‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á": "V0",
      "‡∏ú‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏£‡∏≤": "V1",
      "‡πÅ‡∏Å‡∏á‡∏™‡πâ‡∏°": "V2"
    };
    const descriptions = {
      "‡πÅ‡∏Å‡∏á‡∏™‡πâ‡∏°": "‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏Å‡∏á‡∏™‡πâ‡∏°‡∏£‡∏™‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏Ç‡∏≤‡∏°‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏Å‡∏á‡πÇ‡∏Ç‡∏•‡∏Å‡∏™‡∏î ‡πÄ‡∏ï‡∏¥‡∏°‡∏ú‡∏±‡∏Å‡πÄ‡∏ä‡πà‡∏ô‡∏î‡∏≠‡∏Å‡πÅ‡∏Ñ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏±‡∏Å‡∏Å‡∏∞‡∏´‡∏•‡πà‡∏≥ ‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≤‡∏ô‡πâ‡∏≥‡∏à‡∏∑‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏∏‡πâ‡∏á ‡∏£‡∏™‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß ‡πÄ‡∏ú‡πá‡∏î ‡∏´‡∏≠‡∏°‡∏ñ‡∏∂‡∏á‡πÉ‡∏à",
      "‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á": "‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á‡∏£‡∏™‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô ‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏à‡∏≤‡∏Å‡∏°‡∏∞‡∏ô‡∏≤‡∏ß ‡πÄ‡∏ú‡πá‡∏î‡∏à‡∏≤‡∏Å‡∏û‡∏£‡∏¥‡∏Å‡∏Ç‡∏µ‡πâ‡∏´‡∏ô‡∏π ‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ ‡πÉ‡∏ö‡∏°‡∏∞‡∏Å‡∏£‡∏π‡∏î ‡∏Ç‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡πá‡∏î‡∏ü‡∏≤‡∏á ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î‡∏ï‡∏±‡∏ß‡πÇ‡∏ï",
      "‡∏ú‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏£‡∏≤": "‡∏ú‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏ó‡πâ ‡∏´‡∏≠‡∏°‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏£‡∏¥‡∏Å‡∏Ñ‡∏±‡πà‡∏ß ‡∏ú‡∏±‡∏î‡∏£‡πâ‡∏≠‡∏ô ‡πÜ ‡∏Å‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏Å‡πà ‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ö‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏™‡∏î‡πÜ ‡∏£‡∏™‡πÄ‡∏ú‡πá‡∏î ‡πÄ‡∏Ñ‡πá‡∏° ‡∏Å‡∏•‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏° ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÑ‡∏ó‡∏¢‡πÅ‡∏ó‡πâ"
    };

    function speak(text, callback = null, delay = 0) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'th-TH';
      if (callback) u.onend = () => setTimeout(callback, delay);
      speechSynthesis.speak(u);
      document.getElementById("status").textContent = text;
    }

    function sendToBlynk(pin, callback) {
      fetch(`${blynkURL}?token=${token}&${pin}=1`)
        .then(() => callback());
    }

    function listenForYesNo(yesCallback, noCallback) {
      const recog = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recog.lang = 'th-TH';
      recog.start();

      recog.onresult = (event) => {
        const result = event.results[0][0].transcript.trim();
        if (result.includes("‡πÉ‡∏ä‡πà")) {
          yesCallback();
        } else if (result.includes("‡πÑ‡∏°‡πà")) {
          noCallback();
        } else {
          speak("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ‡πÉ‡∏ä‡πà ‡∏´‡∏£‡∏∑‡∏≠ ‡πÑ‡∏°‡πà", () => listenForYesNo(yesCallback, noCallback), 1000);
        }
      };

      recog.onerror = () => {
        speak("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á", () => listenForYesNo(yesCallback, noCallback), 1000);
      };
    }

    function listenForMenu() {
      const recog = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recog.lang = 'th-TH';
      recog.start();

      recog.onresult = (event) => {
        const result = event.results[0][0].transcript.trim();
        if (menuMap[result]) {
          speak(`‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π ${result}`, () => {
            sendToBlynk(menuMap[result], () => {
              speak("‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô", () => {
                setTimeout(startIntro, 2000);
              });
            });
          });
        } else {
          speak("‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏°‡∏ô‡∏π ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏π‡∏î‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", listenForMenu);
        }
      };

      recog.onerror = () => {
        speak("‡∏£‡∏∞‡∏ö‡∏ö‡∏ü‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏π‡∏î‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", listenForMenu);
      };
    }

    function startMenuDescriptions() {
      const menus = Object.keys(menuMap);
      let index = 0;

      function next() {
        if (index >= menus.length) {
          speak("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏π‡∏î‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á", listenForMenu);
          return;
        }
        const item = menus[index];
        speak(`${item}: ${descriptions[item]}`, () => {
          index++;
          setTimeout(next, 500);
        });
      }

      next();
    }

    function startIntro() {
      speak("‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢ ‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ‡πÉ‡∏ä‡πà ‡∏´‡∏£‡∏∑‡∏≠ ‡πÑ‡∏°‡πà", () => {
        listenForYesNo(startMenuDescriptions, () => {
          speak("‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á", () => {
            setTimeout(startIntro, 60000); // ‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
          });
        });
      });
    }

    window.onload = () => {
      setTimeout(startIntro, 1000);
    };
  </script>
</body>
</html>
